!function(e){"use strict";("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)&&e("html").addClass("is-touch");var t=function(){var t=m("setting");e(".theme-color").replaceWith('<label class="theme-color" for="theme-color"><input type="color" id="theme-color" '+(t.color?'value="'+t.color+'"':"")+">"+e(".theme-color").html()+"</label>"),e(".page-navigation ul, .user-navigation ul").each((function(){var t=e(this).find(".active, .current_page_item");if(t.length){var n=t.offset().left-e(this).offset().left+t.outerWidth(!0)/2+e(this).scrollLeft()-e(this).width()/2;e(this).scrollLeft(n)}})),e(document).trigger("init:site")};t();var n="a:not(.no-ajax):not([target]):not(.sub-ajax):not(.ajax_add_to_cart):not(.comment-reply-link):not(#cancel-comment-reply-link):not(.edd_cart_remove_item_btn):not(.edd_download_file_link), form.search-form",o="undefined"!=typeof hooker?hooker.trigger("hook_ajax_elements",n).final:n,l=["title","#header nav","#content","#aside","#footer","#mobile-menu"],a="undefined"!=typeof hooker?hooker.trigger("hook_ajax_selectors",l).final:l,r=new Pjax({cacheBust:!1,elements:o,selectors:a,switches:{"#content":function(t,n,o){var l=this;e("html").addClass("page-animating"),setTimeout((function(){t.outerHTML=n.outerHTML,l.onSwitch(),e("html").removeClass("page-animating")}),500)}}});r._handleResponse=r.handleResponse,r.handleResponse=function(t,n,o){if(n.responseText.match("<html")){if(!t||t&&t.match(/class="site-content no-ajax/))return void(window.location.href=o);var l=t.match(/body([^>]*)class=['|"]([^'|"]*)['|"]/);e(document).trigger("pjax:loaded"),r._handleResponse(t,n,o),e(document).trigger("pjax:handled"),setTimeout((function(){l&&l[2]&&e("body").attr("class",l[2])}),500)}else window.location.href=o};var c,i,s=new Pjax({cacheBust:!1,elements:"a.sub-ajax",selectors:["#sub-ajax-content","#sub-ajax-menu"]});function u(){var t=m("setting");t.color&&(e("html").attr("style","--color-primary:"+t.color),e(".theme-color input").val(t.color))}function m(t,n){var o=e(".site-title:first").text().replace(/\s/g,"");t=o+"--"+t;try{if(arguments.length>1)return localStorage.setItem(t,JSON.stringify(n));var l=localStorage.getItem(t);return l&&JSON.parse(l)||{}}catch(e){}}e(document).on("refresh",(function(){r.refresh(),s.refresh()})),e(document).on("reload",(function(e,t){r.loadUrl(e&&e.detail&&e.detail.url||t||window.location.href)})),e(document).on("pjax:send",(function(){e("html").addClass("page-loading")})),e(document).on("pjax:complete",(function(){t(),e("#search-state").prop("checked",!1),e(".modal-backdrop").remove(),e("html").removeClass("page-loading scrolled"),e(document).trigger("refresh"),e("body").width()<782&&e("#menu-state").prop("checked",!1)})),e(document).on("click",".no-ajax > a:not(.no-ajax)",(function(t){t.preventDefault(),t.stopPropagation();var n=e(this).attr("href")?e(this).attr("href"):e(this).find("a").attr("href");return window.location=n,!1})),e(document).on("click",".menu-item-has-children, .secondary-menu",(function(t){t.preventDefault(),t.stopPropagation(),e(this).toggleClass("current-menu-ancestor")})),e(document).on("keyup","#commentform textarea",(function(e){this.clientHeight<this.scrollHeight&&(this.style.height=this.scrollHeight+"px")})),e(document).on("click",".theme-switch",(function(t){t.preventDefault(),e("html").toggleClass("dark");var n=m("setting");n.theme=e("html").hasClass("dark")?"dark":"light",m("setting",n)})),e("html").addClass(m("site-theme")),e(document).on("change",".theme-color input",(function(t){t.preventDefault();var n=e(this).val(),o=m("setting");o.color=n,m("setting",o),u()})),e(document).on("click",".accordion h3, .accordion h4",(function(t){t.preventDefault(),e(this).toggleClass("open"),e(this).nextUntil("h3, h4").toggle()})),u(),c=m("setting"),i="",c.theme&&(i=c.theme),location.href.indexOf("theme=dark")>-1&&(i="dark"),location.href.indexOf("theme=light")>-1&&(i="light"),0!=e(".theme-switch").length&&""!=i&&e("html").removeClass("dark light").addClass(i),e(document).on("click",".fullscreen",(function(e){e.preventDefault(),function(){if(null===(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||null)){var e=document.documentElement;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()}()}))}(jQuery);